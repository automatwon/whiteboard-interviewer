<!DOCTYPE html>
<html>
	<head>
		<title>Whiteboard Interview</title>

   		<meta name="viewport" content="width=device-width, initial-scale=1.0">
   		<!-- Bootstrap -->
    	<link href="css/bootstrap.min.css" rel="stylesheet" media="screen">
    	<link rel="stylesheet" href="css/supersized.core.css" media="screen"/>
    	<style>
    		.navbar {
    			margin-top: 10px;
    		}
    		.navbar button {
    			margin-left: 2px;
    			margin-right: 6px;
    			margin-top: 8px;
    			margin-bottom: 8px;
    		}
			#leftMenu {
  				background-color: #eeeeee;
  			}

  			#textEditor {
  				font-family: courier;
  			}
		video {
			width: 80%;
		}

    	</style>
	</head>
	<body>
		<div class="container">
			<nav class="navbar navbar-default navbar-inverse" role="navigation">
			  <!-- Brand and toggle get grouped for better mobile display -->
			  <div class="navbar-header">
			    <a class="navbar-brand" href="#">Whiteboard Interviewer</a>
			  </div>

			  <!-- Collect the nav links, forms, and other content for toggling -->
			  <div class="collapse navbar-collapse navbar-ex1-collapse">
			    <ul class="nav navbar-nav">
			      <li class="active"><a href="#">Intro</a></li>
			      <li><a href="#">Team</a></li>
			      <li><a href="#">Contact</a></li>
			    </ul>
			    <ul class="nav navbar-nav navbar-right">
			      <li><button type="button" class="btn btn-danger">Create Session</button></li>
			      <li><button data-toggle="modal" href="#myModal" class="btn btn-primary">Join Session</button>

			    </ul>
			  </div><!-- /.navbar-collapse -->
			</nav>

			<!-- put content here -->
		    <div class="container">

				<div class="row">
					<div class="col-sm-4">
						<div class="row">
							<div class="jumbotron" id="leftMenu">
								<video id="localVideo"></video>
								<div id="remotes"></div>
								<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
								<script src="http://simplewebrtc.com/latest.js"></script>
								<script>
								    // grab the room from the URL
								    var room = 'hello';//location.search;// && location.search.split('?')[1];

								    // create our webrtc connection
								    var webrtc = new SimpleWebRTC({
									// the id/element dom element that will hold "our" video
									localVideoEl: 'localVideo',
									// the id/element dom element that will hold remote videos
									remoteVideosEl: 'remotes',
									// immediately ask for camera access
									autoRequestMedia: true,
									log: true
								    });

								    // when it's ready, join if we got a room from the URL
								    webrtc.on('readyToCall', function () {
									// you can name it anything
									if (room) webrtc.joinRoom(room);
								    });
								    
								    // Since we use this twice we put it here
								    function setRoom(name) {
							//                $('form').remove();
							//                $('h1').text(name);
							//                $('#subTitle').text('Link to join: ' + location.href);
									$('body').addClass('active');
								    }

								    if (room) {
									setRoom(room);
								    } else {
							/*                $('form').submit(function () {
									    var val = $('#sessionInput').val().toLowerCase().replace(/\s/g, '-').replace(/[^A-Za-z0-9_\-]/g, '');
									    webrtc.createRoom(val, function (err, name) {
										var newUrl = location.pathname;// + '?' + name;
										if (!err) {
										    history.replaceState({foo: 'bar'}, null, newUrl);
										    setRoom('');
										}
									    });
									    return false;          
									});
							*/            }

							/*            var button = $('#screenShareButton'),
									setButton = function (bool) {
									    button.text(bool ? 'share screen' : 'stop sharing');
									};

								    setButton(true);

								    if (!webrtc.screenSharingSupport) {
									button[0].disabled = true;
								    } else {
									button.click(function () {
									    if (webrtc.localScreen) {
										webrtc.stopScreenShare();
										setButton(true);
									    } else {
										webrtc.shareScreen();
										setButton(false);
									    }
									});
								    }*/
								</script>
							</div>
						</div>
						<div class="row">
							<div class="jumbotron" id="leftMenu">
								<h1>Other</h1>
							</div>
						</div>
					
					</div>
					<div class="col-sm-8 ">
						<div class="jumbotron">
							<h1>Text Editor Here</h1>
							<p>
								<div id="textEditor">
									Code Here
								</div>
							</p>
						</div>
					</div>
				</div>

				
			</div> <!-- /container -->
		</div><!-- /container -->

		<!-- Button trigger modal -->
		<!-- Modal - Triggered by clicking join session -->
		<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
						<h4 class="modal-title">Enter Session ID</h4>
					</div>
					<div class="modal-body">
						Text Here
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
						<button type="button" class="btn btn-primary">Submit</button>
					</div>
				</div><!-- /.modal-content -->
			</div><!-- /.modal-dialog -->
		</div><!-- /.modal -->
		
		

		<!-- Load JS Assets Last, rather than in HEAD. Prevents DOM blocking -->
		<script src="js/jquery.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script src="js/supersized.min.js"></script>
		<script src="js/helloworld.js"></script>
	</body>
</html>
